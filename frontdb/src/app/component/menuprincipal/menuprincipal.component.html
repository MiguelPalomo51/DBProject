<div class="container-fluid p-0">
  <div class="row g-0" style="min-height: 100vh">
    <!-- Menú lateral -->
    <nav
      class="col-md-3 bg-dark text-white p-3 rounded-0 d-flex flex-column justify-content-start"
      style="min-height: 100vh"
    >
      <h2 class="text-center">Admin DB</h2>
      <a href="#" class="d-block text-white py-2">Usuarios</a>
      <a href="#" class="d-block text-white py-2">Tablas</a>
      <a href="#" class="d-block text-white py-2">Consultas SQL</a>
    </nav>

    <!-- Contenido principal -->
    <div
      class="col-md-9 d-flex flex-column align-items-center justify-content-center"
      style="min-height: 100vh"
    >
      <h2 class="mb-4">Ejecutar Consulta SQL</h2>

      <label for="baseSelect" class="form-label">Selecciona una base de datos:</label>
      <select id="baseSelect" class="form-select mb-3" (change)="onBaseSeleccionada($event)">
        <option value="">-- Selecciona una base --</option>
        <option *ngFor="let bd of basesDeDatos" [value]="bd"> {{ bd }} </option>
      </select>

      <textarea
        id="query"
        class="form-control mb-3"
        [(ngModel)]="consultaSQL"
        style="width: 90%; height: 250px; font-size: 1.3rem"
        placeholder="Escribe tu consulta SQL aquí..."
      ></textarea>

      <div class="w-100 d-flex justify-content-center">
        <button
          class="btn btn-success mb-4"
          style="width: 220px"
          (click)="ejecutarConsulta()"
        >
          Ejecutar
        </button>
      </div>

      <h3 class="mt-3">Resultado:</h3>

      <div class="table-responsive" style="width: 90%; min-height: 200px">
        <table
          id="resultado"
          class="table table-bordered table-striped mb-0"
          style="font-size: 1.15rem"
          *ngIf="resultadoConsulta.length > 0"
        >
          <thead>
            <tr>
              <th *ngFor="let key of resultadoConsulta[0] | keyvalue">{{ key.key }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let fila of resultadoConsulta">
              <td *ngFor="let valor of fila | keyvalue">{{ valor.value }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
